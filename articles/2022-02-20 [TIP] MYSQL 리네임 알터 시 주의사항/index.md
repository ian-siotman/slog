---
title: "[TIP] MYSQL ALTER 리네임 시 주의사항"
date: 2022-02-20 22:00:00
---

사내 동료 코드 리뷰를 진행 중, 단순 테이블 리네임 Flyway 커밋이 너무 느리다는 코멘트를 보았다.

단순 리네임이라면, 특별히 느릴만한 이유가 없어서 확인해보았다.

3개 테이블에 대한 리네임이었고, 각각 2만, 1300만, 3000만 정도 로우를 갖고 있었다.

확인하니, 이전 테이블의 default 0.000000 not null 이 누락되어 있었고, 추가하여 로컬에서 다시 돌려보니,

11분 걸리던 쿼리가 0.54 초 내에 동작하였다. 즉, default 밸류가 누락되며 update 가 수행되었던 것으로 보인다.

다음에 나한테도 이런 일이 있다면, 이러한 점에 포함되는 지 확인해봐야할 것이다.

